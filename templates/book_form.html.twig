{% extends 'base.html.twig' %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}

<a href="index.php" class="back-link">&larr; Back to Book List</a>

<h1>{{ form_title }}</h1>

{% if errors is not empty %}
    <div style="background:#ffe0e0; border:1px solid #ff9090; padding:10px; margin-bottom:15px;">
        <strong>Please fix the following errors:</strong>
        <ul>
            {% for err in errors %}
                <li>{{ err|e }}</li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

<form method="post" action="" style="max-width:400px;">
    {% if book.id is defined %}
        <input type="hidden" name="id" value="{{ book.id }}">
    {% endif %}

    <label for="title">Title *</label>
    <input type="text" name="title" id="title" required
           value="{{ book.title|default('')|e }}"
           style="width:100%; padding:8px; box-sizing:border-box;">

    <label for="author" style="display:block; margin-top:10px;">Author *</label>
    <input type="text" name="author" id="author" required
           value="{{ book.author|default('')|e }}"
           style="width:100%; padding:8px; box-sizing:border-box;">

    <label for="genre" style="display:block; margin-top:10px;">Genre *</label>
    <input type="text" name="genre" id="genre" required
           value="{{ book.genre|default('')|e }}"
           style="width:100%; padding:8px; box-sizing:border-box;">

    <label for="publication_year" style="display:block; margin-top:10px;">Publication Year *</label>
    <input type="number" name="publication_year" id="publication_year" required
           value="{{ book.publication_year|default('')|e }}"
           style="width:100%; padding:8px; box-sizing:border-box;">

    <label for="price" style="display:block; margin-top:10px;">Price (optional)</label>
    <input type="text" name="price" id="price"
           value="{{ book.price|default('')|e }}"
           style="width:100%; padding:8px; box-sizing:border-box;">

    <button type="submit" style="margin-top:15px; padding:8px 15px;">
        {{ submit_label }}
    </button>
</form>

{% endblock %}
